###############################################################################
#
# IAR ANSI C/C++ Compiler V7.10.1.6676/W32 for ARM        18/Jul/2019  11:15:05
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  E:\DLP_Proj\DLP_source\branches\DLP_opensource\Src\spi.c
#    Command line =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\Src\spi.c -D
#        USE_HAL_DRIVER -D STM32F407xx -D STM32F40_41xxx -D USE_HAL_LIB -D
#        MKS_DLP_BOARD -D TFT35 -lC
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\ -lA
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\
#        --diag_suppress Pa050 -o
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/Obj\
#        --no_unroll --no_inline --no_tbaa --no_scheduling --debug
#        --endian=little --cpu=Cortex-M4F -e --char_is_signed --fpu=VFPv4_sp
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.0\arm\INC\c\DLib_Config_Full.h" -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Inc\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Src\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/STM32F4xx_HAL_Driver/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/FatFs/src/drivers\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/ST/STM32_USB_Host_Library/Core/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/CMSIS/Device/ST/STM32F4xx/Include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/FatFs/src\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/Third_Party/Marlin\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/CMSIS/Include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/variant\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/at24cxx\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/w25qxx\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/ssd2828\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/BSP/Components/lcd\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/libstmf4\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Drivers/libstmf4/include\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/arduino/stm32/cores/arduino\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/ConvertColor\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/ConvertMono\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Core\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Font\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/AntiAlias\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/GUIDemo\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/LCDDriver\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/MemDev\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/MultiLayer\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/Widget\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI/WM\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/GUI_X\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../Middlewares/gui/Config\
#        -I E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui\ -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui/Multi_language\
#        -I
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM/../User/ui/QRENCODE\
#        -Om --use_c++_inline -I "C:\Program Files (x86)\IAR Systems\Embedded
#        Workbench 7.0\arm\CMSIS\Include\"
#    List file    =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/List\spi.lst
#    Object file  =  
#        E:\DLP_Proj\DLP_source\branches\DLP_opensource\EWARM\mksDLP/Obj\spi.o
#
###############################################################################

E:\DLP_Proj\DLP_source\branches\DLP_opensource\Src\spi.c
      1          /**
      2            ******************************************************************************
      3            * File Name          : SPI.c
      4            * Description        : This file provides code for the configuration
      5            *                      of the SPI instances.
      6            ******************************************************************************
      7            *
      8            * Copyright (c) 2016 STMicroelectronics International N.V. 
      9            * All rights reserved.
     10            *
     11            * Redistribution and use in source and binary forms, with or without 
     12            * modification, are permitted, provided that the following conditions are met:
     13            *
     14            * 1. Redistribution of source code must retain the above copyright notice, 
     15            *    this list of conditions and the following disclaimer.
     16            * 2. Redistributions in binary form must reproduce the above copyright notice,
     17            *    this list of conditions and the following disclaimer in the documentation
     18            *    and/or other materials provided with the distribution.
     19            * 3. Neither the name of STMicroelectronics nor the names of other 
     20            *    contributors to this software may be used to endorse or promote products 
     21            *    derived from this software without specific written permission.
     22            * 4. This software, including modifications and/or derivative works of this 
     23            *    software, must execute solely and exclusively on microcontroller or
     24            *    microprocessor devices manufactured by or for STMicroelectronics.
     25            * 5. Redistribution and use of this software other than as permitted under 
     26            *    this license is void and will automatically terminate your rights under 
     27            *    this license. 
     28            *
     29            * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
     30            * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
     31            * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
     32            * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
     33            * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
     34            * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
     35            * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
     36            * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
     37            * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
     38            * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
     39            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
     40            * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     41            *
     42            ******************************************************************************
     43            */
     44          
     45          /* Includes ------------------------------------------------------------------*/
     46          #include "spi.h"
     47          
     48          #include "gpio.h"
     49          #include "dma.h"
     50          
     51          /* USER CODE BEGIN 0 */
     52          #include "stm32f4xx_spi.h"

  #define IS_SPI_MODE(MODE) (((MODE) == SPI_Mode_Master) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",173  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_MODE" (declared at line
          511 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_DATASIZE(DATASIZE) (((DATASIZE) == SPI_DataSize_16b) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",185  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_DATASIZE" (declared at
          line 523 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_CPOL(CPOL) (((CPOL) == SPI_CPOL_Low) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",197  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_CPOL" (declared at line
          526 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_CPHA(CPHA) (((CPHA) == SPI_CPHA_1Edge) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",209  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_CPHA" (declared at line
          529 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_NSS(NSS) (((NSS) == SPI_NSS_Soft) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",221  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_NSS" (declared at line
          532 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_BAUDRATE_PRESCALER(PRESCALER) (((PRESCALER) == SPI_BaudRatePrescaler_2) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",239  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_BAUDRATE_PRESCALER"
          (declared at line 536 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_FIRST_BIT(BIT) (((BIT) == SPI_FirstBit_MSB) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",257  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_FIRST_BIT" (declared at
          line 545 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_DIRECTION(DIRECTION) (((DIRECTION) == SPI_Direction_Rx) || \
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",400  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_DIRECTION" (declared at
          line 514 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_CRCERR                 ((uint16_t)0x0010)
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",442  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_CRCERR" (declared at
          line 293 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_MODF                   ((uint16_t)0x0020)
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",443  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_MODF" (declared at line
          294 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define IS_SPI_CRC_POLYNOMIAL(POLYNOMIAL) ((POLYNOMIAL) >= 0x1)
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",462  Warning[Pe047]: 
          incompatible redefinition of macro "IS_SPI_CRC_POLYNOMIAL" (declared
          at line 554 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_IT_TXE                   SPI_I2S_IT_TXE
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",473  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_IT_TXE" (declared at line
          280 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_IT_RXNE                  SPI_I2S_IT_RXNE
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",474  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_IT_RXNE" (declared at line
          281 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_IT_ERR                   SPI_I2S_IT_ERR
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",475  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_IT_ERR" (declared at line
          282 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_RXNE                SPI_I2S_FLAG_RXNE
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",477  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_RXNE" (declared at line
          290 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_TXE                 SPI_I2S_FLAG_TXE
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",478  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_TXE" (declared at line
          291 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_OVR                 SPI_I2S_FLAG_OVR
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",479  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_OVR" (declared at line
          295 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")

  #define SPI_FLAG_BSY                 SPI_I2S_FLAG_BSY
          ^
"E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\libstmf4\include\stm32f4xx_spi.h",480  Warning[Pe047]: 
          incompatible redefinition of macro "SPI_FLAG_BSY" (declared at line
          292 of
          "E:\DLP_Proj\DLP_source\branches\DLP_opensource\Drivers\STM32F4xx_HAL
          _Driver\Inc\stm32f4xx_hal_spi.h")
     53          /* USER CODE END 0 */
     54          

   \                                 In section .bss, align 4
     55          SPI_HandleTypeDef hspi1;
   \                     hspi1:
   \   00000000                      DS8 88

   \                                 In section .bss, align 4
     56          SPI_HandleTypeDef hspi2;
   \                     hspi2:
   \   00000000                      DS8 88

   \                                 In section .bss, align 4
     57          SPI_HandleTypeDef hspi3;
   \                     hspi3:
   \   00000000                      DS8 88

   \                                 In section .bss, align 4
     58          DMA_HandleTypeDef hdma_spi1_rx;
   \                     hdma_spi1_rx:
   \   00000000                      DS8 96
     59          DMA_HandleTypeDef hdma_spi1_tx;
   \                     hdma_spi1_tx:
   \   00000060                      DS8 96
     60          DMA_HandleTypeDef hdma_spi2_rx;
   \                     hdma_spi2_rx:
   \   000000C0                      DS8 96
     61          DMA_HandleTypeDef hdma_spi2_tx;
   \                     hdma_spi2_tx:
   \   00000120                      DS8 96

   \                                 In section .bss, align 4
     62          DMA_HandleTypeDef hdma_spi3_rx;
   \                     hdma_spi3_rx:
   \   00000000                      DS8 96

   \                                 In section .bss, align 4
     63          DMA_HandleTypeDef hdma_spi3_tx;
   \                     hdma_spi3_tx:
   \   00000000                      DS8 96
     64          
     65          /* SPI1 init function */

   \                                 In section .text, align 2, keep-with-next
     66          void MX_SPI1_Init(void)
     67          {
   \                     MX_SPI1_Init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     68          
     69            hspi1.Instance = SPI1;
   \   00000002   0x....             LDR.N    R0,??DataTable6
   \   00000004   0x....             LDR.N    R1,??DataTable6_1  ;; 0x40013000
   \   00000006   0x6001             STR      R1,[R0, #+0]
     70            hspi1.Init.Mode = SPI_MODE_MASTER;
   \   00000008   0xF44F 0x7182      MOV      R1,#+260
   \   0000000C   0x6041             STR      R1,[R0, #+4]
     71            hspi1.Init.Direction = SPI_DIRECTION_2LINES;
   \   0000000E   0x2100             MOVS     R1,#+0
   \   00000010   0x6081             STR      R1,[R0, #+8]
     72            hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
   \   00000012   0x60C1             STR      R1,[R0, #+12]
     73            hspi1.Init.CLKPolarity = SPI_POLARITY_HIGH;
   \   00000014   0x2102             MOVS     R1,#+2
   \   00000016   0x6101             STR      R1,[R0, #+16]
     74            hspi1.Init.CLKPhase = SPI_PHASE_2EDGE;
   \   00000018   0x2101             MOVS     R1,#+1
   \   0000001A   0x6141             STR      R1,[R0, #+20]
     75            hspi1.Init.NSS = SPI_NSS_SOFT;
   \   0000001C   0xF44F 0x7100      MOV      R1,#+512
   \   00000020   0x6181             STR      R1,[R0, #+24]
     76            hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_8;//2: 42M;	8: 10.5M	;128: 625K
   \   00000022   0x2110             MOVS     R1,#+16
   \   00000024   0x61C1             STR      R1,[R0, #+28]
     77            hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
   \   00000026   0x2100             MOVS     R1,#+0
   \   00000028   0x6201             STR      R1,[R0, #+32]
     78            hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
   \   0000002A   0x6241             STR      R1,[R0, #+36]
     79            hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
   \   0000002C   0x6281             STR      R1,[R0, #+40]
     80            hspi1.Init.CRCPolynomial = 10;
   \   0000002E   0x210A             MOVS     R1,#+10
   \   00000030   0x62C1             STR      R1,[R0, #+44]
     81            if (HAL_SPI_Init(&hspi1) != HAL_OK)
   \   00000032   0x.... 0x....      BL       HAL_SPI_Init
   \   00000036   0x2800             CMP      R0,#+0
   \   00000038   0xD003             BEQ.N    ??MX_SPI1_Init_0
     82            {
     83              Error_Handler();
   \   0000003A   0xE8BD 0x4001      POP      {R0,LR}
   \   0000003E   0x.... 0x....      B.W      Error_Handler
     84            }
     85          
     86          }
   \                     ??MX_SPI1_Init_0: (+1)
   \   00000042   0xBD01             POP      {R0,PC}          ;; return
     87          /* SPI2 init function */

   \                                 In section .text, align 2, keep-with-next
     88          void MX_SPI2_Init(void)
     89          {
   \                     MX_SPI2_Init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     90          
     91            hspi2.Instance = SPI2;
   \   00000002   0x....             LDR.N    R0,??DataTable6_2
   \   00000004   0x....             LDR.N    R1,??DataTable6_3  ;; 0x40003800
   \   00000006   0x6001             STR      R1,[R0, #+0]
     92            hspi2.Init.Mode = SPI_MODE_MASTER;
   \   00000008   0xF44F 0x7182      MOV      R1,#+260
   \   0000000C   0x6041             STR      R1,[R0, #+4]
     93            hspi2.Init.Direction = SPI_DIRECTION_2LINES;
   \   0000000E   0x2100             MOVS     R1,#+0
   \   00000010   0x6081             STR      R1,[R0, #+8]
     94            hspi2.Init.DataSize = SPI_DATASIZE_8BIT;
   \   00000012   0x60C1             STR      R1,[R0, #+12]
     95            hspi2.Init.CLKPolarity = SPI_POLARITY_HIGH;
   \   00000014   0x2102             MOVS     R1,#+2
   \   00000016   0x6101             STR      R1,[R0, #+16]
     96            hspi2.Init.CLKPhase = SPI_PHASE_2EDGE;
   \   00000018   0x2101             MOVS     R1,#+1
   \   0000001A   0x6141             STR      R1,[R0, #+20]
     97            hspi2.Init.NSS = SPI_NSS_SOFT;
   \   0000001C   0xF44F 0x7100      MOV      R1,#+512
   \   00000020   0x6181             STR      R1,[R0, #+24]
     98            hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_64;	//2: 21M	64: 656.25K
   \   00000022   0x2128             MOVS     R1,#+40
   \   00000024   0x61C1             STR      R1,[R0, #+28]
     99            hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
   \   00000026   0x2100             MOVS     R1,#+0
   \   00000028   0x6201             STR      R1,[R0, #+32]
    100            hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
   \   0000002A   0x6241             STR      R1,[R0, #+36]
    101            hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
   \   0000002C   0x6281             STR      R1,[R0, #+40]
    102            hspi2.Init.CRCPolynomial = 10;
   \   0000002E   0x210A             MOVS     R1,#+10
   \   00000030   0x62C1             STR      R1,[R0, #+44]
    103            if (HAL_SPI_Init(&hspi2) != HAL_OK)
   \   00000032   0x.... 0x....      BL       HAL_SPI_Init
   \   00000036   0x2800             CMP      R0,#+0
   \   00000038   0xD003             BEQ.N    ??MX_SPI2_Init_0
    104            {
    105              Error_Handler();
   \   0000003A   0xE8BD 0x4001      POP      {R0,LR}
   \   0000003E   0x.... 0x....      B.W      Error_Handler
    106            }
    107          
    108          }
   \                     ??MX_SPI2_Init_0: (+1)
   \   00000042   0xBD01             POP      {R0,PC}          ;; return
    109          

   \                                 In section .text, align 2, keep-with-next
    110          void HAL_SPI_MspInit(SPI_HandleTypeDef* spiHandle)
    111          {
   \                     HAL_SPI_MspInit: (+1)
   \   00000000   0xE92D 0x41F0      PUSH     {R4-R8,LR}
   \   00000004   0xB086             SUB      SP,SP,#+24
   \   00000006   0x4604             MOV      R4,R0
    112          
    113            GPIO_InitTypeDef GPIO_InitStruct;
    114            if(spiHandle->Instance==SPI1)
   \   00000008   0x6820             LDR      R0,[R4, #+0]
   \   0000000A   0x....             LDR.N    R1,??DataTable6_1  ;; 0x40013000
   \   0000000C   0x4288             CMP      R0,R1
   \   0000000E   0xD15B             BNE.N    ??HAL_SPI_MspInit_0
    115            {
    116            /* USER CODE BEGIN SPI1_MspInit 0 */
    117          
    118            /* USER CODE END SPI1_MspInit 0 */
    119              /* Peripheral clock enable */
    120              __HAL_RCC_SPI1_CLK_ENABLE();
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x9000             STR      R0,[SP, #+0]
   \   00000014   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40023840
   \   00000016   0x6841             LDR      R1,[R0, #+4]
   \   00000018   0xF441 0x5180      ORR      R1,R1,#0x1000
   \   0000001C   0x6041             STR      R1,[R0, #+4]
   \   0000001E   0x6840             LDR      R0,[R0, #+4]
   \   00000020   0xF400 0x5080      AND      R0,R0,#0x1000
   \   00000024   0x9000             STR      R0,[SP, #+0]
   \   00000026   0x9800             LDR      R0,[SP, #+0]
    121            
    122              /**SPI1 GPIO Configuration    
    123              PB3     ------> SPI1_SCK
    124              PB4     ------> SPI1_MISO
    125              PB5     ------> SPI1_MOSI 
    126              */
    127              GPIO_InitStruct.Pin = GPIO_PIN_3|GPIO_PIN_4|GPIO_PIN_5;
   \   00000028   0x2038             MOVS     R0,#+56
   \   0000002A   0x9001             STR      R0,[SP, #+4]
    128              GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
   \   0000002C   0x2002             MOVS     R0,#+2
   \   0000002E   0x9002             STR      R0,[SP, #+8]
    129              GPIO_InitStruct.Pull = GPIO_NOPULL;
   \   00000030   0x2000             MOVS     R0,#+0
   \   00000032   0x9003             STR      R0,[SP, #+12]
    130              GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
   \   00000034   0x2003             MOVS     R0,#+3
   \   00000036   0x9004             STR      R0,[SP, #+16]
    131              GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
   \   00000038   0x2005             MOVS     R0,#+5
   \   0000003A   0x9005             STR      R0,[SP, #+20]
    132              HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
   \   0000003C   0xA901             ADD      R1,SP,#+4
   \   0000003E   0x....             LDR.N    R0,??DataTable6_5  ;; 0x40020400
   \   00000040   0x.... 0x....      BL       HAL_GPIO_Init
    133          
    134              /* Peripheral DMA init*/
    135            
    136              hdma_spi1_rx.Instance = DMA2_Stream0;
   \   00000044   0x....             LDR.N    R5,??DataTable6_6
   \   00000046   0x....             LDR.N    R6,??DataTable6_7  ;; 0x40026410
   \   00000048   0x602E             STR      R6,[R5, #+0]
    137              hdma_spi1_rx.Init.Channel = DMA_CHANNEL_3;
   \   0000004A   0xF04F 0x67C0      MOV      R7,#+100663296
   \   0000004E   0x606F             STR      R7,[R5, #+4]
    138              hdma_spi1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
   \   00000050   0x2000             MOVS     R0,#+0
   \   00000052   0x60A8             STR      R0,[R5, #+8]
    139              hdma_spi1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
   \   00000054   0x60E8             STR      R0,[R5, #+12]
    140              hdma_spi1_rx.Init.MemInc = DMA_MINC_ENABLE;
   \   00000056   0xF44F 0x6880      MOV      R8,#+1024
   \   0000005A   0xF8C5 0x8010      STR      R8,[R5, #+16]
    141              hdma_spi1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
   \   0000005E   0x6168             STR      R0,[R5, #+20]
    142              hdma_spi1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
   \   00000060   0x61A8             STR      R0,[R5, #+24]
    143              hdma_spi1_rx.Init.Mode = DMA_NORMAL;
   \   00000062   0x61E8             STR      R0,[R5, #+28]
    144              hdma_spi1_rx.Init.Priority = DMA_PRIORITY_LOW;
   \   00000064   0x6228             STR      R0,[R5, #+32]
    145              hdma_spi1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
   \   00000066   0x6268             STR      R0,[R5, #+36]
    146              if (HAL_DMA_Init(&hdma_spi1_rx) != HAL_OK)
   \   00000068   0x4628             MOV      R0,R5
   \   0000006A   0x.... 0x....      BL       HAL_DMA_Init
   \   0000006E   0x2800             CMP      R0,#+0
   \   00000070   0xD001             BEQ.N    ??HAL_SPI_MspInit_1
    147              {
    148                Error_Handler();
   \   00000072   0x.... 0x....      BL       Error_Handler
    149              }
    150          
    151              __HAL_LINKDMA(spiHandle,hdmarx,hdma_spi1_rx);
   \                     ??HAL_SPI_MspInit_1: (+1)
   \   00000076   0x64E5             STR      R5,[R4, #+76]
   \   00000078   0x63AC             STR      R4,[R5, #+56]
    152          
    153              hdma_spi1_tx.Instance = DMA2_Stream5;
   \   0000007A   0xF106 0x0078      ADD      R0,R6,#+120
   \   0000007E   0x6628             STR      R0,[R5, #+96]
    154              hdma_spi1_tx.Init.Channel = DMA_CHANNEL_3;
   \   00000080   0x666F             STR      R7,[R5, #+100]
    155              hdma_spi1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
   \   00000082   0x2040             MOVS     R0,#+64
   \   00000084   0x66A8             STR      R0,[R5, #+104]
    156              hdma_spi1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
   \   00000086   0x2000             MOVS     R0,#+0
   \   00000088   0x66E8             STR      R0,[R5, #+108]
    157              hdma_spi1_tx.Init.MemInc = DMA_MINC_ENABLE;
   \   0000008A   0xF8C5 0x8070      STR      R8,[R5, #+112]
    158              hdma_spi1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
   \   0000008E   0x6768             STR      R0,[R5, #+116]
    159              hdma_spi1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
   \   00000090   0x67A8             STR      R0,[R5, #+120]
    160              hdma_spi1_tx.Init.Mode = DMA_NORMAL;
   \   00000092   0x67E8             STR      R0,[R5, #+124]
    161              hdma_spi1_tx.Init.Priority = DMA_PRIORITY_LOW;
   \   00000094   0xF8C5 0x0080      STR      R0,[R5, #+128]
    162              hdma_spi1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
   \   00000098   0xF8C5 0x0084      STR      R0,[R5, #+132]
    163              if (HAL_DMA_Init(&hdma_spi1_tx) != HAL_OK)
   \   0000009C   0xF105 0x0060      ADD      R0,R5,#+96
   \   000000A0   0x.... 0x....      BL       HAL_DMA_Init
   \   000000A4   0x2800             CMP      R0,#+0
   \   000000A6   0xD001             BEQ.N    ??HAL_SPI_MspInit_2
    164              {
    165                Error_Handler();
   \   000000A8   0x.... 0x....      BL       Error_Handler
    166              }
    167          
    168              __HAL_LINKDMA(spiHandle,hdmatx,hdma_spi1_tx);
   \                     ??HAL_SPI_MspInit_2: (+1)
   \   000000AC   0xF105 0x0060      ADD      R0,R5,#+96
   \   000000B0   0x64A0             STR      R0,[R4, #+72]
   \   000000B2   0xF8C5 0x4098      STR      R4,[R5, #+152]
    169          
    170              /* Peripheral interrupt init */
    171              HAL_NVIC_SetPriority(SPI1_IRQn, 3, 0);
   \   000000B6   0x2200             MOVS     R2,#+0
   \   000000B8   0x2103             MOVS     R1,#+3
   \   000000BA   0x2023             MOVS     R0,#+35
   \   000000BC   0x.... 0x....      BL       HAL_NVIC_SetPriority
    172              HAL_NVIC_EnableIRQ(SPI1_IRQn);
   \   000000C0   0x2023             MOVS     R0,#+35
   \   000000C2   0x.... 0x....      BL       HAL_NVIC_EnableIRQ
   \   000000C6   0xE06F             B.N      ??HAL_SPI_MspInit_3
    173            /* USER CODE BEGIN SPI1_MspInit 1 */
    174          
    175            /* USER CODE END SPI1_MspInit 1 */
    176            }
    177            else if(spiHandle->Instance==SPI2)
   \                     ??HAL_SPI_MspInit_0: (+1)
   \   000000C8   0x....             LDR.N    R1,??DataTable6_3  ;; 0x40003800
   \   000000CA   0x4288             CMP      R0,R1
   \   000000CC   0xD16C             BNE.N    ??HAL_SPI_MspInit_3
    178            {
    179            /* USER CODE BEGIN SPI2_MspInit 0 */
    180          
    181            /* USER CODE END SPI2_MspInit 0 */
    182              /* Peripheral clock enable */
    183              __HAL_RCC_SPI2_CLK_ENABLE();
   \   000000CE   0x2000             MOVS     R0,#+0
   \   000000D0   0x9000             STR      R0,[SP, #+0]
   \   000000D2   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40023840
   \   000000D4   0x6801             LDR      R1,[R0, #+0]
   \   000000D6   0xF441 0x4180      ORR      R1,R1,#0x4000
   \   000000DA   0x6001             STR      R1,[R0, #+0]
   \   000000DC   0x6800             LDR      R0,[R0, #+0]
   \   000000DE   0xF400 0x4080      AND      R0,R0,#0x4000
   \   000000E2   0x9000             STR      R0,[SP, #+0]
   \   000000E4   0x9800             LDR      R0,[SP, #+0]
    184            
    185              /**SPI2 GPIO Configuration    
    186              PB10    ------> SPI2_SCK
    187              PB14     ------> SPI2_MISO
    188              PB15     ------> SPI2_MOSI 
    189              */
    190              GPIO_InitStruct.Pin = GPIO_PIN_10|GPIO_PIN_14|GPIO_PIN_15;
   \   000000E6   0xF44F 0x4044      MOV      R0,#+50176
   \   000000EA   0x9001             STR      R0,[SP, #+4]
    191              GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
   \   000000EC   0x2002             MOVS     R0,#+2
   \   000000EE   0x9002             STR      R0,[SP, #+8]
    192              GPIO_InitStruct.Pull = GPIO_NOPULL;
   \   000000F0   0x2000             MOVS     R0,#+0
   \   000000F2   0x9003             STR      R0,[SP, #+12]
    193              GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
   \   000000F4   0x2003             MOVS     R0,#+3
   \   000000F6   0x9004             STR      R0,[SP, #+16]
    194              GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
   \   000000F8   0x2005             MOVS     R0,#+5
   \   000000FA   0x9005             STR      R0,[SP, #+20]
    195              HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
   \   000000FC   0xA901             ADD      R1,SP,#+4
   \   000000FE   0x....             LDR.N    R0,??DataTable6_5  ;; 0x40020400
   \   00000100   0x.... 0x....      BL       HAL_GPIO_Init
    196          
    197              /* Peripheral DMA init*/
    198            
    199              hdma_spi2_rx.Instance = DMA1_Stream3;
   \   00000104   0x....             LDR.N    R6,??DataTable6_8  ;; 0x40026058
   \   00000106   0x....             LDR.N    R5,??DataTable6_6
   \   00000108   0xF8C5 0x60C0      STR      R6,[R5, #+192]
    200              hdma_spi2_rx.Init.Channel = DMA_CHANNEL_0;
   \   0000010C   0x2000             MOVS     R0,#+0
   \   0000010E   0xF8C5 0x00C4      STR      R0,[R5, #+196]
    201              hdma_spi2_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
   \   00000112   0xF8C5 0x00C8      STR      R0,[R5, #+200]
    202              hdma_spi2_rx.Init.PeriphInc = DMA_PINC_DISABLE;
   \   00000116   0xF8C5 0x00CC      STR      R0,[R5, #+204]
    203              hdma_spi2_rx.Init.MemInc = DMA_MINC_ENABLE;
   \   0000011A   0xF44F 0x6880      MOV      R8,#+1024
   \   0000011E   0xF8C5 0x80D0      STR      R8,[R5, #+208]
    204              hdma_spi2_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
   \   00000122   0xF8C5 0x00D4      STR      R0,[R5, #+212]
    205              hdma_spi2_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
   \   00000126   0xF8C5 0x00D8      STR      R0,[R5, #+216]
    206              hdma_spi2_rx.Init.Mode = DMA_NORMAL;
   \   0000012A   0xF8C5 0x00DC      STR      R0,[R5, #+220]
    207              hdma_spi2_rx.Init.Priority = DMA_PRIORITY_LOW;
   \   0000012E   0xF8C5 0x00E0      STR      R0,[R5, #+224]
    208              hdma_spi2_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
   \   00000132   0xF8C5 0x00E4      STR      R0,[R5, #+228]
    209              if (HAL_DMA_Init(&hdma_spi2_rx) != HAL_OK)
   \   00000136   0xF105 0x07C0      ADD      R7,R5,#+192
   \   0000013A   0x4638             MOV      R0,R7
   \   0000013C   0x.... 0x....      BL       HAL_DMA_Init
   \   00000140   0x2800             CMP      R0,#+0
   \   00000142   0xD001             BEQ.N    ??HAL_SPI_MspInit_4
    210              {
    211                Error_Handler();
   \   00000144   0x.... 0x....      BL       Error_Handler
    212              }
    213          
    214              __HAL_LINKDMA(spiHandle,hdmarx,hdma_spi2_rx);
   \                     ??HAL_SPI_MspInit_4: (+1)
   \   00000148   0x64E7             STR      R7,[R4, #+76]
   \   0000014A   0xF8C5 0x40F8      STR      R4,[R5, #+248]
    215          
    216              hdma_spi2_tx.Instance = DMA1_Stream4;
   \   0000014E   0xF106 0x0018      ADD      R0,R6,#+24
   \   00000152   0xF8C5 0x0120      STR      R0,[R5, #+288]
    217              hdma_spi2_tx.Init.Channel = DMA_CHANNEL_0;
   \   00000156   0x2000             MOVS     R0,#+0
   \   00000158   0xF8C5 0x0124      STR      R0,[R5, #+292]
    218              hdma_spi2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
   \   0000015C   0x2040             MOVS     R0,#+64
   \   0000015E   0xF8C5 0x0128      STR      R0,[R5, #+296]
    219              hdma_spi2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
   \   00000162   0x2000             MOVS     R0,#+0
   \   00000164   0xF8C5 0x012C      STR      R0,[R5, #+300]
    220              hdma_spi2_tx.Init.MemInc = DMA_MINC_ENABLE;
   \   00000168   0xF8C5 0x8130      STR      R8,[R5, #+304]
    221              hdma_spi2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
   \   0000016C   0xF8C5 0x0134      STR      R0,[R5, #+308]
    222              hdma_spi2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
   \   00000170   0xF8C5 0x0138      STR      R0,[R5, #+312]
    223              hdma_spi2_tx.Init.Mode = DMA_NORMAL;
   \   00000174   0xF8C5 0x013C      STR      R0,[R5, #+316]
    224              hdma_spi2_tx.Init.Priority = DMA_PRIORITY_LOW;
   \   00000178   0xF8C5 0x0140      STR      R0,[R5, #+320]
    225              hdma_spi2_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
   \   0000017C   0xF8C5 0x0144      STR      R0,[R5, #+324]
    226              if (HAL_DMA_Init(&hdma_spi2_tx) != HAL_OK)
   \   00000180   0xF505 0x7690      ADD      R6,R5,#+288
   \   00000184   0x4630             MOV      R0,R6
   \   00000186   0x.... 0x....      BL       HAL_DMA_Init
   \   0000018A   0x2800             CMP      R0,#+0
   \   0000018C   0xD001             BEQ.N    ??HAL_SPI_MspInit_5
    227              {
    228                Error_Handler();
   \   0000018E   0x.... 0x....      BL       Error_Handler
    229              }
    230          
    231              __HAL_LINKDMA(spiHandle,hdmatx,hdma_spi2_tx);
   \                     ??HAL_SPI_MspInit_5: (+1)
   \   00000192   0x64A6             STR      R6,[R4, #+72]
   \   00000194   0xF8C5 0x4158      STR      R4,[R5, #+344]
    232          
    233              /* Peripheral interrupt init */
    234              HAL_NVIC_SetPriority(SPI2_IRQn, 3, 0);
   \   00000198   0x2200             MOVS     R2,#+0
   \   0000019A   0x2103             MOVS     R1,#+3
   \   0000019C   0x2024             MOVS     R0,#+36
   \   0000019E   0x.... 0x....      BL       HAL_NVIC_SetPriority
    235              HAL_NVIC_EnableIRQ(SPI2_IRQn);
   \   000001A2   0x2024             MOVS     R0,#+36
   \   000001A4   0x.... 0x....      BL       HAL_NVIC_EnableIRQ
    236            /* USER CODE BEGIN SPI2_MspInit 1 */
    237          
    238            /* USER CODE END SPI2_MspInit 1 */
    239            }
    240          }
   \                     ??HAL_SPI_MspInit_3: (+1)
   \   000001A8   0xB006             ADD      SP,SP,#+24
   \   000001AA   0xE8BD 0x81F0      POP      {R4-R8,PC}       ;; return
    241          

   \                                 In section .text, align 2, keep-with-next
    242          void HAL_SPI_MspDeInit(SPI_HandleTypeDef* spiHandle)
    243          {
   \                     HAL_SPI_MspDeInit: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x4604             MOV      R4,R0
    244          
    245            if(spiHandle->Instance==SPI1)
   \   00000004   0x6820             LDR      R0,[R4, #+0]
   \   00000006   0x....             LDR.N    R1,??DataTable6_1  ;; 0x40013000
   \   00000008   0x4288             CMP      R0,R1
   \   0000000A   0xD113             BNE.N    ??HAL_SPI_MspDeInit_0
    246            {
    247            /* USER CODE BEGIN SPI1_MspDeInit 0 */
    248          
    249            /* USER CODE END SPI1_MspDeInit 0 */
    250              /* Peripheral clock disable */
    251              __HAL_RCC_SPI1_CLK_DISABLE();
   \   0000000C   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40023840
   \   0000000E   0x6841             LDR      R1,[R0, #+4]
   \   00000010   0xF421 0x5180      BIC      R1,R1,#0x1000
   \   00000014   0x6041             STR      R1,[R0, #+4]
    252            
    253              /**SPI1 GPIO Configuration    
    254              PB3     ------> SPI1_SCK
    255              PB4     ------> SPI1_MISO
    256              PB5     ------> SPI1_MOSI 
    257              */
    258              HAL_GPIO_DeInit(GPIOB, GPIO_PIN_3|GPIO_PIN_4|GPIO_PIN_5);
   \   00000016   0x2138             MOVS     R1,#+56
   \   00000018   0x....             LDR.N    R0,??DataTable6_5  ;; 0x40020400
   \   0000001A   0x.... 0x....      BL       HAL_GPIO_DeInit
    259          
    260              /* Peripheral DMA DeInit*/
    261              HAL_DMA_DeInit(spiHandle->hdmarx);
   \   0000001E   0x6CE0             LDR      R0,[R4, #+76]
   \   00000020   0x.... 0x....      BL       HAL_DMA_DeInit
    262              HAL_DMA_DeInit(spiHandle->hdmatx);
   \   00000024   0x6CA0             LDR      R0,[R4, #+72]
   \   00000026   0x.... 0x....      BL       HAL_DMA_DeInit
    263          
    264              /* Peripheral interrupt Deinit*/
    265              HAL_NVIC_DisableIRQ(SPI1_IRQn);
   \   0000002A   0x2023             MOVS     R0,#+35
   \   0000002C   0xE8BD 0x4010      POP      {R4,LR}
   \   00000030   0x.... 0x....      B.W      HAL_NVIC_DisableIRQ
    266          
    267            /* USER CODE BEGIN SPI1_MspDeInit 1 */
    268          
    269            /* USER CODE END SPI1_MspDeInit 1 */
    270            }
    271            else if(spiHandle->Instance==SPI2)
   \                     ??HAL_SPI_MspDeInit_0: (+1)
   \   00000034   0x....             LDR.N    R1,??DataTable6_3  ;; 0x40003800
   \   00000036   0x4288             CMP      R0,R1
   \   00000038   0xD114             BNE.N    ??HAL_SPI_MspDeInit_1
    272            {
    273            /* USER CODE BEGIN SPI2_MspDeInit 0 */
    274          
    275            /* USER CODE END SPI2_MspDeInit 0 */
    276              /* Peripheral clock disable */
    277              __HAL_RCC_SPI2_CLK_DISABLE();
   \   0000003A   0x....             LDR.N    R0,??DataTable6_4  ;; 0x40023840
   \   0000003C   0x6801             LDR      R1,[R0, #+0]
   \   0000003E   0xF421 0x4180      BIC      R1,R1,#0x4000
   \   00000042   0x6001             STR      R1,[R0, #+0]
    278            
    279              /**SPI2 GPIO Configuration    
    280              PB10    ------> SPI2_SCK
    281              PB14     ------> SPI2_MISO
    282              PB15     ------> SPI2_MOSI 
    283              */
    284              HAL_GPIO_DeInit(GPIOB, GPIO_PIN_10|GPIO_PIN_14|GPIO_PIN_15);
   \   00000044   0xF44F 0x4144      MOV      R1,#+50176
   \   00000048   0x....             LDR.N    R0,??DataTable6_5  ;; 0x40020400
   \   0000004A   0x.... 0x....      BL       HAL_GPIO_DeInit
    285          
    286              /* Peripheral DMA DeInit*/
    287              HAL_DMA_DeInit(spiHandle->hdmarx);
   \   0000004E   0x6CE0             LDR      R0,[R4, #+76]
   \   00000050   0x.... 0x....      BL       HAL_DMA_DeInit
    288              HAL_DMA_DeInit(spiHandle->hdmatx);
   \   00000054   0x6CA0             LDR      R0,[R4, #+72]
   \   00000056   0x.... 0x....      BL       HAL_DMA_DeInit
    289          
    290              /* Peripheral interrupt Deinit*/
    291              HAL_NVIC_DisableIRQ(SPI2_IRQn);
   \   0000005A   0x2024             MOVS     R0,#+36
   \   0000005C   0xE8BD 0x4010      POP      {R4,LR}
   \   00000060   0x.... 0x....      B.W      HAL_NVIC_DisableIRQ
    292          
    293            /* USER CODE BEGIN SPI2_MspDeInit 1 */
    294          
    295            /* USER CODE END SPI2_MspDeInit 1 */
    296            }
    297          } 
   \                     ??HAL_SPI_MspDeInit_1: (+1)
   \   00000064   0xBD10             POP      {R4,PC}          ;; return
    298          
    299          /* USER CODE BEGIN 1 */
    300          //SPI1速度设置函数
    301          //SPI速度=fAPB2/分频系数
    302          //@ref SPI_BaudRate_Prescaler:SPI_BaudRatePrescaler_2~SPI_BaudRatePrescaler_256  
    303          //fAPB2时钟一般为84Mhz：

   \                                 In section .text, align 2, keep-with-next
    304          void SPI1_SetSpeed(u8 SPI_BaudRatePrescaler)
    305          {
    306            assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_BaudRatePrescaler));//判断有效性
    307          	SPI1->CR1&=0XFFC7;//位3-5清零，用来设置波特率
   \                     SPI1_SetSpeed: (+1)
   \   00000000   0x....             LDR.N    R2,??DataTable6_1  ;; 0x40013000
   \   00000002   0x6811             LDR      R1,[R2, #+0]
   \   00000004   0xF64F 0x73C7      MOVW     R3,#+65479
   \   00000008   0x4019             ANDS     R1,R3,R1
   \   0000000A   0x6011             STR      R1,[R2, #+0]
    308          	SPI1->CR1|=SPI_BaudRatePrescaler;	//设置SPI1速度 
   \   0000000C   0x6811             LDR      R1,[R2, #+0]
   \   0000000E   0x4308             ORRS     R0,R0,R1
   \   00000010   0x6010             STR      R0,[R2, #+0]
    309          	SPI_Cmd(SPI1,ENABLE); //使能SPI1
   \   00000012   0x2101             MOVS     R1,#+1
   \   00000014   0x4610             MOV      R0,R2
   \   00000016   0x.... 0x....      B.W      SPI_Cmd
    310          } 
    311          //SPI1 读写一个字节
    312          //TxData:要写入的字节
    313          //返回值:读取到的字节

   \                                 In section .text, align 2, keep-with-next
    314          u8 SPI1_ReadWriteByte(u8 TxData)
    315          {		 			 
   \                     SPI1_ReadWriteByte: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x4604             MOV      R4,R0
   \   00000004   0x....             LDR.N    R5,??DataTable6_1  ;; 0x40013000
    316           
    317            while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET){}//等待发送区空  
   \                     ??SPI1_ReadWriteByte_0: (+1)
   \   00000006   0x2102             MOVS     R1,#+2
   \   00000008   0x4628             MOV      R0,R5
   \   0000000A   0x.... 0x....      BL       SPI_I2S_GetFlagStatus
   \   0000000E   0x2800             CMP      R0,#+0
   \   00000010   0xD0F9             BEQ.N    ??SPI1_ReadWriteByte_0
    318          	
    319          	SPI_I2S_SendData(SPI1, TxData); //通过外设SPIx发送一个byte  数据
   \   00000012   0x4621             MOV      R1,R4
   \   00000014   0x4628             MOV      R0,R5
   \   00000016   0x.... 0x....      BL       SPI_I2S_SendData
    320          		
    321            while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_RXNE) == RESET){} //等待接收完一个byte  
   \                     ??SPI1_ReadWriteByte_1: (+1)
   \   0000001A   0x2101             MOVS     R1,#+1
   \   0000001C   0x4628             MOV      R0,R5
   \   0000001E   0x.... 0x....      BL       SPI_I2S_GetFlagStatus
   \   00000022   0x2800             CMP      R0,#+0
   \   00000024   0xD0F9             BEQ.N    ??SPI1_ReadWriteByte_1
    322           
    323          	return SPI_I2S_ReceiveData(SPI1); //返回通过SPIx最近接收的数据	
   \   00000026   0x4628             MOV      R0,R5
   \   00000028   0x.... 0x....      BL       SPI_I2S_ReceiveData
   \   0000002C   0xB2C0             UXTB     R0,R0
   \   0000002E   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    324           		    
    325          }
    326          

   \                                 In section .text, align 2, keep-with-next
    327          int SPI1_ReadWrite2Bytes(void)  
    328          { 
   \                     SPI1_ReadWrite2Bytes: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    329          	volatile u16 ans=0;
   \   00000002   0x2000             MOVS     R0,#+0
   \   00000004   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    330                  u16 temp = 0;
    331          	temp=SPI1_ReadWriteByte(0x00);
   \   00000008   0x.... 0x....      BL       SPI1_ReadWriteByte
    332          	ans=temp<<8;
   \   0000000C   0x0200             LSLS     R0,R0,#+8
   \   0000000E   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    333          	temp=SPI1_ReadWriteByte(0x00);
   \   00000012   0x2000             MOVS     R0,#+0
   \   00000014   0x.... 0x....      BL       SPI1_ReadWriteByte
    334          	ans|=temp;
   \   00000018   0xF8BD 0x1000      LDRH     R1,[SP, #+0]
   \   0000001C   0x4308             ORRS     R0,R0,R1
   \   0000001E   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    335          	ans>>=3;
   \   00000022   0xF8BD 0x0000      LDRH     R0,[SP, #+0]
   \   00000026   0x08C0             LSRS     R0,R0,#+3
   \   00000028   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    336          	return ans&0x0fff;
   \   0000002C   0xF8BD 0x0000      LDRH     R0,[SP, #+0]
   \   00000030   0x0500             LSLS     R0,R0,#+20
   \   00000032   0x0D00             LSRS     R0,R0,#+20
   \   00000034   0xBD02             POP      {R1,PC}          ;; return
    337          
    338          } 
    339          
    340          //SPI2 读写一个字节
    341          //TxData:要写入的字节
    342          //返回值:读取到的字节

   \                                 In section .text, align 2, keep-with-next
    343          u8 SPI2_ReadWriteByte(u8 TxData)
    344          {		 			 
   \                     SPI2_ReadWriteByte: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x4604             MOV      R4,R0
   \   00000004   0x....             LDR.N    R5,??DataTable6_3  ;; 0x40003800
    345           
    346            while (SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_TXE) == RESET){}//等待发送区空  
   \                     ??SPI2_ReadWriteByte_0: (+1)
   \   00000006   0x2102             MOVS     R1,#+2
   \   00000008   0x4628             MOV      R0,R5
   \   0000000A   0x.... 0x....      BL       SPI_I2S_GetFlagStatus
   \   0000000E   0x2800             CMP      R0,#+0
   \   00000010   0xD0F9             BEQ.N    ??SPI2_ReadWriteByte_0
    347          	
    348          	SPI_I2S_SendData(SPI2, TxData); //通过外设SPIx发送一个byte  数据
   \   00000012   0x4621             MOV      R1,R4
   \   00000014   0x4628             MOV      R0,R5
   \   00000016   0x.... 0x....      BL       SPI_I2S_SendData
    349          		
    350            while (SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_RXNE) == RESET){} //等待接收完一个byte  
   \                     ??SPI2_ReadWriteByte_1: (+1)
   \   0000001A   0x2101             MOVS     R1,#+1
   \   0000001C   0x4628             MOV      R0,R5
   \   0000001E   0x.... 0x....      BL       SPI_I2S_GetFlagStatus
   \   00000022   0x2800             CMP      R0,#+0
   \   00000024   0xD0F9             BEQ.N    ??SPI2_ReadWriteByte_1
    351           
    352          	return SPI_I2S_ReceiveData(SPI2); //返回通过SPIx最近接收的数据	
   \   00000026   0x4628             MOV      R0,R5
   \   00000028   0x.... 0x....      BL       SPI_I2S_ReceiveData
   \   0000002C   0xB2C0             UXTB     R0,R0
   \   0000002E   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    353           		    
    354          }
    355          

   \                                 In section .text, align 2, keep-with-next
    356          int SPI2_ReadWrite2Bytes(void)  
    357          {
   \                     SPI2_ReadWrite2Bytes: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    358          	volatile u16 ans=0;
   \   00000002   0x2000             MOVS     R0,#+0
   \   00000004   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    359                  u16 temp = 0;
    360          	temp=SPI2_ReadWriteByte(0x00);
   \   00000008   0x.... 0x....      BL       SPI2_ReadWriteByte
    361          	ans=temp<<8;
   \   0000000C   0x0200             LSLS     R0,R0,#+8
   \   0000000E   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    362          	temp=SPI2_ReadWriteByte(0x00);
   \   00000012   0x2000             MOVS     R0,#+0
   \   00000014   0x.... 0x....      BL       SPI2_ReadWriteByte
    363          	ans|=temp;
   \   00000018   0xF8BD 0x1000      LDRH     R1,[SP, #+0]
   \   0000001C   0x4308             ORRS     R0,R0,R1
   \   0000001E   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    364          	ans>>=3;
   \   00000022   0xF8BD 0x0000      LDRH     R0,[SP, #+0]
   \   00000026   0x08C0             LSRS     R0,R0,#+3
   \   00000028   0xF8AD 0x0000      STRH     R0,[SP, #+0]
    365          	return ans&0x0fff;
   \   0000002C   0xF8BD 0x0000      LDRH     R0,[SP, #+0]
   \   00000030   0x0500             LSLS     R0,R0,#+20
   \   00000032   0x0D00             LSRS     R0,R0,#+20
   \   00000034   0xBD02             POP      {R1,PC}          ;; return
    366          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   0x........         DC32     hspi1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_1:
   \   00000000   0x40013000         DC32     0x40013000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_2:
   \   00000000   0x........         DC32     hspi2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_3:
   \   00000000   0x40003800         DC32     0x40003800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_4:
   \   00000000   0x40023840         DC32     0x40023840

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_5:
   \   00000000   0x40020400         DC32     0x40020400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_6:
   \   00000000   0x........         DC32     hdma_spi1_rx

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_7:
   \   00000000   0x40026410         DC32     0x40026410

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable6_8:
   \   00000000   0x40026058         DC32     0x40026058
    367          
    368          /* USER CODE END 1 */
    369          
    370          /**
    371            * @}
    372            */
    373          
    374          /**
    375            * @}
    376            */
    377          
    378          /************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   HAL_SPI_MspDeInit
         8   -> HAL_DMA_DeInit
         8   -> HAL_GPIO_DeInit
         0   -> HAL_NVIC_DisableIRQ
      48   HAL_SPI_MspInit
        48   -> Error_Handler
        48   -> HAL_DMA_Init
        48   -> HAL_GPIO_Init
        48   -> HAL_NVIC_EnableIRQ
        48   -> HAL_NVIC_SetPriority
       8   MX_SPI1_Init
         0   -> Error_Handler
         8   -> HAL_SPI_Init
       8   MX_SPI2_Init
         0   -> Error_Handler
         8   -> HAL_SPI_Init
       8   SPI1_ReadWrite2Bytes
         8   -> SPI1_ReadWriteByte
      16   SPI1_ReadWriteByte
        16   -> SPI_I2S_GetFlagStatus
        16   -> SPI_I2S_ReceiveData
        16   -> SPI_I2S_SendData
       0   SPI1_SetSpeed
         0   -> SPI_Cmd
       8   SPI2_ReadWrite2Bytes
         8   -> SPI2_ReadWriteByte
      16   SPI2_ReadWriteByte
        16   -> SPI_I2S_GetFlagStatus
        16   -> SPI_I2S_ReceiveData
        16   -> SPI_I2S_SendData


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable6
       4  ??DataTable6_1
       4  ??DataTable6_2
       4  ??DataTable6_3
       4  ??DataTable6_4
       4  ??DataTable6_5
       4  ??DataTable6_6
       4  ??DataTable6_7
       4  ??DataTable6_8
     102  HAL_SPI_MspDeInit
     430  HAL_SPI_MspInit
      68  MX_SPI1_Init
      68  MX_SPI2_Init
      54  SPI1_ReadWrite2Bytes
      48  SPI1_ReadWriteByte
      26  SPI1_SetSpeed
      54  SPI2_ReadWrite2Bytes
      48  SPI2_ReadWriteByte
     384  hdma_spi1_rx
          hdma_spi1_tx
          hdma_spi2_rx
          hdma_spi2_tx
      96  hdma_spi3_rx
      96  hdma_spi3_tx
      88  hspi1
      88  hspi2
      88  hspi3

 
 840 bytes in section .bss
 934 bytes in section .text
 
 934 bytes of CODE memory
 840 bytes of DATA memory

Errors: none
Warnings: 18
